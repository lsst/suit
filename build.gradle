import java.nio.file.*;

ext.fireflyPath = "$rootDir.path/../firefly/"
ext.onlinehelp_dir = "$rootDir/../suit-onlinehelp/"

allprojects {
  defaultTasks 'preselect'
}

subprojects {
  apply plugin: "java"
  apply from: "$fireflyPath/buildScript/global.gincl"
  apply from: "$fireflyPath/buildScript/tasks.gincl"
  apply from: "$rootDir.path/buildScript/global.gincl"
}

task purge << {
  println('Removes all build directories.')
  delete "${rootDir}/build", "${rootDir}/jars/build", "${rootDir}/node_modules"
  Files.delete(Paths.get("${rootDir}/yarn.lock"));
  Files.delete(Paths.get("${rootDir}/package.json"));
  Files.delete(Paths.get("${rootDir}/config/test"));
}

task clean << {
  println('Removes all build directories.')
  delete "${rootDir}/build", "${rootDir}/jars/build"
}


task preselect